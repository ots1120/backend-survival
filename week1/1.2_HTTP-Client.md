# TCP/IP 통신

## Internet Protocol Suite

인터넷 프로토콜 스위트는 인터넷에서 컴퓨터들이 서로 정보를 주고받는 데 쓰이는 통신규약(프로토콜)의 모음이다. 인터넷 프로토콜 슈트 중 TCP/IP가 가장 많이 쓰이기 때문에 TCP/IP 프로토콜 슈트라고도 불린다.

### TCP와 IP

TCP/IP는 패킷 통신 방식의 인터넷 프로토콜인 IP(인터넷 프로토콜)와 전송 조절 프로토콜인 TCP(전송 제어 프로토콜)로 이루어져 있다.

- IP는 패킷 전달 여부를 보증하지 않고, 패킷을 보낸 순서와 받는 순서가 다를 수 있다.
- TCP는 IP 위에서 동작하는 프로토콜로, 데이터의 전달을 보증하고 보낸 순서대로 받게 해준다.
- 전송 계층(Transport layer)은 계층 구조의 네트워크 구성요소와 프로토콜 내에서 송신자와 수신자를 연결하는 통신 서비스를 제공한다. 전송 프로토콜 중 가장 잘 알려진 것은 연결 지향 전송 방식을 사용하는 전송 제어 프로토콜이다.
- UDP : TCP 보다 단순한 전송에 사용되는 사용자 데이터그램 프로토콜

### Socket과 Socket API 구분

- Berkeley Sockets은 네트워크 통신을 위한 프로그래밍 인터페이스(API)로, 개발자가 인터넷이나 다른 네트워크에서 데이터를 송수신할 수 있게 해주는 일련의 함수와 라이브러리
- 오늘날 대부분의 운영 체제에서 네트워크 통신의 표준 방법으로 사용된다.
- Berkeley Sockets API가 주로 지원하는 통신
  프로토콜

  - TCP(Transmission Control Protocol) : 연결 이 필요하며 신뢰성있는 데이터 전송을 제공한다. TCP를 사용하는 소켓은 데이터가 순서대로 정확히 전달되고, 에러 없이 목적지에 도착하는 것을 보장한다.(전화)
  - UDP(User Datagram Protocol) : 연결이 없는 프로토콜로, 각 메시지(데이터그램)가 다른 메시지와 독립적으로 처리된다. UDP는 TCP보다 빠르지만, 데이터의 순서나 도착을 보장하지 않는다.(편지)

- Berkeley sockets API를 사용하여 네트워크 프로그램을 작성할 때, 개발자는 소켓을 생성, 주소를 할당, 연결을 수립, 데이터를 송수신, 그리고 연결을 종료하는 일련의 단계를 따른다.
- 이 과정은 클라이언트-서버 모델을 기반으로 하며, 서버는 특정 포트에서 연결 요청을 듣고, 클라이언트는 서버에 연결을 시도하여 통신을 시작한다.

### Network Socket

- 네트워크 소켓은 컴퓨터 네트워크를 경유하는 프로세스 간 통신의 종착점이다. 오늘날 컴퓨터 간 통신의 대부분은 IP를 기반으로 하고 있으므로,

- 대부분의 네트워크 소켓은 인터넷 소켓이다. 네트워크 통신을 위한 프로그램들은 소켓을 생성하고, 이 소켓을 통해서 서로 데이터를 교환한다.

- Socket은 기본적으로 파일과 유사하게 다룰 수 있다.
- Java에서는 키보드 입력, 화면출력, 파일 입출력 등과 마찬가지로 Stream(Java 8에서 도입된 Stream API가 아님에 주의)으로 다룰 수 있다.

- 호스트(host)
  - IP 주소
  - Domain name
  - DNS
- 포트(port)
- path(경로)
- Java text blocks
- Java InputStream과 OutputStream
- Java try-with-resources
